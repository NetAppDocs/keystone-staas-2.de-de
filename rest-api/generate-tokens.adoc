---
sidebar: sidebar 
permalink: rest-api/generate-tokens.html 
keywords: Refresh token, Digital Advisor portal,access 
summary: Generieren Sie ein Aktualisierungstoken, um neue Zugriffstoken zu erhalten.  Es authentifiziert API-Anfragen und bleibt eine Woche lang oder bis zum Austausch gültig.  Sie können das Zugriffstoken über die Konsole oder einen API-Aufruf erhalten. 
---
= Aktualisieren und Zugriffstoken generieren
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Ein Aktualisierungstoken wird verwendet, um programmgesteuert einen neuen Satz Zugriffstoken zu erhalten und ist eine Woche lang gültig oder bis es zum Erhalt eines neuen Satzes Token verwendet wurde.

Die Schritte zum Generieren eines Aktualisierungstokens mithilfe des Digital Advisor Portals sind wie folgt:

. Melden Sie sich an bei https://aiq.netapp.com/api["Digital Advisor Beraterportal"] Verwenden Sie die NetApp -Anmeldeinformationen und wählen Sie *Token generieren*.
+
image:rest-api-aiq-portal.png["Schritte zum Generieren eines Aktualisierungstokens mithilfe des Digital Advisor Portals"]

+

NOTE: Wenn die Option *Token generieren* für Erstbenutzer nicht verfügbar ist, wählen Sie *Registrieren* aus, um eine Autorisierungsanfrage zu senden.  Füllen Sie das Registrierungsformular aus, um die Funktion zu aktivieren.

. Das System generiert ein Zugriffstoken und ein Aktualisierungstoken.  Speichern Sie das Aktualisierungstoken auf einer vertrauenswürdigen Plattform.
+

NOTE: Das Portal bietet Ihnen mehrere Möglichkeiten, einen oder beide Token im Set zu speichern.  Sie können sie in die Zwischenablage kopieren, als Textdatei herunterladen oder als einfachen Text anzeigen.

+
image:rest-api-token-types.png["Arten von Token"]





== Zugriffstoken mit der Digital Advisor REST-API generieren

Das Zugriffstoken wird zur Authentifizierung von Digital Advisor -API-Anfragen verwendet.  Es kann direkt über die Konsole zusammen mit dem Aktualisierungstoken oder mithilfe des folgenden API-Aufrufs generiert werden:

*Anfrage:*

[cols="41%,59%"]
|===


| *Verfahren* | POST 


| *Endpunkt* | `https://api.activeiq.netapp.com/v1/tokens/accessToken` 


| *Kopfzeilen*  a| 
* akzeptieren: application/json
* Inhaltstyp: application/json




| *Anforderungstext*  a| 
{ "refresh_token": "<Aktualisierungstoken>" }

|===

NOTE: Sie sollten über Administratorrechte für Digital Advisor verfügen, um auf diesen Endpunkt zugreifen zu können.

*Antwort:*

Die API gibt als Antwort ein Zugriffstoken und ein Aktualisierungstoken im JSON-Format zurück.

[listing]
----
{
"refresh_token": "string",
"access_token": "string"
}
----
*Statuscode*: 200 – Erfolgreiche Anfrage

*Curl-Beispiel*:

[source, curl]
----
curl -X 'POST' \ 'https://api.activeiq.netapp.com/v1/tokens/accessToken' \ -H 'accept: application/json' \ -H 'Content-Type: application/json' \ -d ' { "refresh_token": "<refresh-token>" }'
----


== Führen Sie den API-Aufruf aus

Nach erfolgreicher Generierung eines Zugriffstokens können autorisierte Digital Advisor -API-Aufrufe für die erforderlichen Informationen ausgeführt werden.
